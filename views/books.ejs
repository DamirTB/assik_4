<!-- books.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>List of Books</title>
</head>
<body>
    <h1>List of Books</h1>
    <ul>
        <% books.forEach(book => { %>
            <li>
                <%= book.name %> - 
                <% if (book.taken) { %>
                    <%= book.taken %>
                <% } else { %>
                    <a href="/borrow/<%= book.id %>">available</a>
                <% } %>
                <% if (book.author && book.author === username) { %>
                    <form action="/books/<%= book.id %>" method="post" style="display: inline;">
                        <button type="submit">Delete</button>
                    </form>
                <% } %>
                <% if (book.author) { %>
                    <span> by <%= book.author %></span>
                <% } %>
            </li>
        <% }); %>
    </ul>
</body>
</html>
